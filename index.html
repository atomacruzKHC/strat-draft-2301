import React, { useState } from 'react';
import { 
  TrendingUp, 
  Users, 
  ClipboardCheck, 
  FileSearch, 
  PieChart, 
  ChevronRight, 
  Target, 
  Zap, 
  CheckCircle2, 
  AlertCircle,
  Gavel,
  ShieldCheck,
  Search,
  MapPin,
  FileText,
  Layout,
  BarChart3
} from 'lucide-react';

const App = () => {
  const [activeTab, setActiveTab] = useState('dashboard');

  const navItems = [
    { id: 'dashboard', label: 'Strategy Dashboard', icon: <TrendingUp size={18} /> },
    { id: 'exec', label: 'Executive Search Expansion', icon: <Users size={18} /> },
    { id: 'raas', label: 'RaaS Revenue Engine', icon: <ClipboardCheck size={18} /> },
    { id: 'gov', label: 'Government Desk Mastery', icon: <Target size={18} /> },
    { id: 'bidding', label: 'Market Penetration & Bids', icon: <Gavel size={18} /> },
    { id: 'survey', label: 'Lost-Bid Intelligence', icon: <PieChart size={18} /> },
  ];

  const renderContent = () => {
    switch (activeTab) {
      case 'dashboard': return <DashboardView />;
      case 'exec': return <ExecutiveSearchView />;
      case 'raas': return <RaaSView />;
      case 'gov': return <GovernmentDeskView />;
      case 'bidding': return <BiddingStrategyView />;
      case 'survey': return <SurveyView />;
      default: return <DashboardView />;
    }
  };

  return (
    <div className="flex h-screen bg-slate-50 font-sans text-slate-900">
      {/* Sidebar */}
      <aside className="w-72 bg-slate-900 text-slate-300 flex flex-col shadow-xl">
        <div className="p-8 border-b border-slate-800 text-center">
          <h1 className="text-2xl font-bold text-white tracking-tighter uppercase italic">Kingston</h1>
          <p className="text-[10px] text-blue-400 font-bold uppercase tracking-widest mt-1 text-center">Strategic Growth Hub 2026</p>
          <div className="mt-2 flex justify-center items-center gap-1 text-[9px] text-slate-500">
            <MapPin size={10} /> Brisbane · Queen St
          </div>
        </div>
        
        <nav className="flex-1 p-4 space-y-2">
          {navItems.map((item) => (
            <button
              key={item.id}
              onClick={() => setActiveTab(item.id)}
              className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${
                activeTab === item.id 
                ? 'bg-blue-600 text-white shadow-lg shadow-blue-900/50' 
                : 'hover:bg-slate-800 hover:text-white'
              }`}
            >
              {item.icon}
              <span className="font-medium text-sm">{item.label}</span>
            </button>
          ))}
        </nav>

        <div className="p-6 mt-auto border-t border-slate-800">
          <div className="bg-slate-800 rounded-lg p-4">
            <p className="text-[10px] text-slate-500 uppercase font-bold mb-1">Brand Integrity Check</p>
            <div className="flex items-center gap-2">
              <div className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
              <span className="text-xs text-slate-300 tracking-wide">Aligned with Kingston Web Identity</span>
            </div>
          </div>
        </div>
      </aside>

      {/* Main Area */}
      <main className="flex-1 overflow-y-auto">
        <div className="max-w-5xl mx-auto p-12">
          {renderContent()}
        </div>
      </main>
    </div>
  );
};

/* --- SHARED COMPONENTS --- */

const SectionBlock = ({ title, why, how, steps, validation, measurement, icon: Icon, children }) => (
  <div className="space-y-8 animate-in fade-in slide-in-from-right-4 duration-500">
    <header className="flex items-center gap-4 border-b border-slate-200 pb-6">
      <div className="p-3 bg-blue-600 text-white rounded-xl shadow-lg">
        {Icon ? <Icon size={28} /> : <Target size={28} />}
      </div>
      <h2 className="text-3xl font-bold text-slate-900 tracking-tight">{title}</h2>
    </header>
    
    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <div className="space-y-6">
        <section>
          <h4 className="flex items-center gap-2 text-blue-600 font-bold uppercase text-xs tracking-widest mb-2">
            <AlertCircle size={14} /> The Strategic Rationale
          </h4>
          <p className="text-slate-700 leading-relaxed text-sm">{why}</p>
        </section>

        <section>
          <h4 className="flex items-center gap-2 text-blue-600 font-bold uppercase text-xs tracking-widest mb-2">
            <Zap size={14} /> Operational Methodology
          </h4>
          <p className="text-slate-700 leading-relaxed text-sm">{how}</p>
        </section>
      </div>

      <div className="bg-white p-8 rounded-2xl shadow-sm border border-slate-100 space-y-6">
        <h4 className="font-bold text-lg border-b pb-2 flex items-center gap-2">
          <ChevronRight size={18} className="text-blue-600" /> Implementation Roadmap
        </h4>
        <div className="space-y-4">
          {steps.map((step, idx) => (
            <div key={idx} className="flex gap-4">
              <span className="flex-shrink-0 w-6 h-6 rounded-full bg-blue-100 text-blue-600 text-[10px] flex items-center justify-center font-bold">
                {idx + 1}
              </span>
              <p className="text-xs text-slate-600 leading-snug">{step}</p>
            </div>
          ))}
        </div>
      </div>
    </div>

    {children}

    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 pt-4">
      <div className="p-6 bg-slate-100 rounded-xl">
        <h4 className="font-bold text-slate-800 flex items-center gap-2 mb-2 text-sm">
          <CheckCircle2 size={18} className="text-green-600" /> Feasibility Validation
        </h4>
        <p className="text-xs text-slate-600">{validation}</p>
      </div>
      <div className="p-6 bg-blue-600 rounded-xl text-white shadow-lg">
        <h4 className="font-bold flex items-center gap-2 mb-2 uppercase text-[10px] tracking-widest text-blue-100">
          <Target size={18} /> Performance Metrics
        </h4>
        <p className="text-md font-bold">{measurement}</p>
      </div>
    </div>
  </div>
);

/* --- PAGE VIEWS --- */

const DashboardView = () => (
  <div className="space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-500">
    <header className="border-b border-slate-200 pb-8">
      <h2 className="text-4xl font-extrabold text-slate-900 tracking-tight">Project Glow: 2026 Strategy</h2>
      <p className="text-xl text-slate-500 mt-2 italic font-serif">"Scaling our 13-year Queensland legacy into national market dominance."</p>
    </header>

    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div className="p-8 bg-white rounded-3xl shadow-sm border border-slate-100 hover:shadow-xl transition-all">
        <h3 className="text-2xl font-bold mb-4 flex items-center gap-3">
          <ShieldCheck className="text-blue-600" /> The Competitive Moat
        </h3>
        <p className="text-slate-600 leading-relaxed text-sm">
          Kingston is leveraging its reputation as a <strong>Queensland-owned specialist</strong> to own high-stakes practice areas. By combining Elizabeth Kingston’s founding vision with over <strong>20 years of collective executive search expertise</strong>, we demonstrate to government procurement that we are the safest, most expert partner for complex talent requirements.
        </p>
      </div>

      <div className="p-8 bg-slate-900 text-white rounded-3xl shadow-lg relative overflow-hidden">
        <div className="relative z-10">
          <h3 className="text-2xl font-bold mb-3 text-blue-300 uppercase tracking-tighter">The Mandate</h3>
          <p className="text-slate-300 leading-relaxed text-md">
            Execute the 'Land and Expand' protocol. Secure panel positions via RaaS and specialised bidding, then aggressively scale volume through our established government and commercial desks.
          </p>
        </div>
      </div>
    </div>
  </div>
);

const ExecutiveSearchView = () => (
  <SectionBlock 
    title="Executive Search: Governance Advisory"
    icon={Users}
    why="With Gerard Kerr leading our search efforts, we manage organisational risk for Boards and CEOs. By positioning Kingston as a 'Governance Advisor,' we pivot the conversation from 'Finding a candidate' to 'Securing the Department’s future.' This aligns with our 97% placement retention rate over three years."
    how="We will productise our search process. Instead of delivering standard resumes, we provide a 'Leadership Risk Assessment' and 'Market Mapping Report' to all selection panel members. This offers immediate strategic value prior to any appointment."
    steps={[
      "WHEN: Month 1 - Redesign search proposals to include 'Market Intelligence' as a core contract deliverable.",
      "WHO: Executive Search Directors to lead sector-specific briefing sessions with specialised consultants.",
      "HOW: Leverage our 'streak' of successful placements (134+ weeks retention) to demonstrate reliability in complex executive hires.",
      "CLIENT ENGAGEMENT: Present the 'Landscape Map' early in the search cycle to reset client expectations and demonstrate sector authority."
    ]}
    validation="This is highly feasible as we already possess high-quality historical data and active candidate networks. The pivot is purely in how we package and present this existing expertise."
    measurement="Conversion Ratio: Aim to increase the pitch-to-win ratio from 1:4 to 2:4 through demonstrated market intelligence."
  >
    <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
      {/* Leadership Risk Assessment Mockup */}
      <div className="bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm">
        <div className="bg-slate-900 px-4 py-2 flex items-center justify-between">
          <span className="text-[10px] text-blue-400 font-bold uppercase tracking-widest">Deliverable Alpha</span>
          <FileText size={14} className="text-slate-400" />
        </div>
        <div className="p-5">
          <h5 className="font-bold text-sm text-slate-800 mb-3 border-b pb-1">Leadership Risk Assessment (Sample)</h5>
          <div className="space-y-3">
            <div className="flex justify-between items-center text-[10px] border-b border-slate-50 pb-1">
              <span className="text-slate-500 italic">Core Competency: Governance</span>
              <span className="text-green-600 font-bold">High Alignment</span>
            </div>
            <div className="flex justify-between items-center text-[10px] border-b border-slate-50 pb-1">
              <span className="text-slate-500 italic">Succession Risk Factor</span>
              <span className="text-amber-500 font-bold">Moderate (Mitigated)</span>
            </div>
            <div className="p-2 bg-slate-50 rounded border border-slate-100">
              <p className="text-[9px] text-slate-600 leading-tight italic">"Candidate A demonstrates strong fiscal oversight but presents a cultural integration risk within the current Senior Leadership Team. Mitigation: 90-day onboarding mentorship."</p>
            </div>
          </div>
        </div>
      </div>

      {/* Market Mapping Mockup */}
      <div className="bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm">
        <div className="bg-blue-600 px-4 py-2 flex items-center justify-between">
          <span className="text-[10px] text-white font-bold uppercase tracking-widest">Deliverable Beta</span>
          <BarChart3 size={14} className="text-white opacity-60" />
        </div>
        <div className="p-5">
          <h5 className="font-bold text-sm text-slate-800 mb-3 border-b pb-1">Executive Market Map (Sample)</h5>
          <div className="space-y-2">
            <div className="flex items-center gap-2">
              <div className="w-full bg-slate-100 rounded-full h-1.5 overflow-hidden">
                <div className="bg-blue-600 h-full w-[70%]" />
              </div>
              <span className="text-[9px] font-bold text-slate-600 whitespace-nowrap">Tier 1 Competitors</span>
            </div>
            <div className="flex items-center gap-2">
              <div className="w-full bg-slate-100 rounded-full h-1.5 overflow-hidden">
                <div className="bg-slate-400 h-full w-[45%]" />
              </div>
              <span className="text-[9px] font-bold text-slate-600 whitespace-nowrap">Gov-Adjacent Talent</span>
            </div>
            <div className="mt-3 text-[9px] text-slate-500">
              <p className="mb-1 uppercase font-bold text-[8px] tracking-tighter text-blue-600">Executive Sentiment Analysis:</p>
              <p className="leading-tight">85% of sector peers cite 'Purpose over Pay' as the 2026 driver for lateral movement within QLD Departments.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </SectionBlock>
);

const BiddingStrategyView = () => (
  <SectionBlock 
    title="Market Penetration & Tendering"
    icon={Gavel}
    why="Tier 1 firms maintain market share through dedicated Bid Management. As a 'Buy Queensland' success story, we are uniquely positioned to win on both merit and local economic contribution. This shifts the client's perception from purchasing a commodity service to engaging a community-aligned strategic partner."
    how="We will implement a 'Land and Expand' model: bid aggressively on niche panels (like QGP0028-17) to secure approved vendor status, then mobilise our Market Intelligence Unit (MIU) to identify key decision-makers and roll out volume placements."
    steps={[
      "WHEN: Q1 - Appoint a dedicated internal Bid Manager to lead the response framework and ensure all RFP submissions meet Tier 1 standards for documentation and compliance.",
      "BRANDING: Highlight our status as a Queensland-owned small business to leverage 'Buy Queensland' procurement priorities.",
      "THE MIU: Deploy a Market Intelligence Unit to systematically monitor government gazettes and track tenders to identify specific hiring managers.",
      "THE CHECKLIST: MIU generates a 'Briefing Checklist' for consultants, containing manager profiles, current departmental projects (e.g., Screen Queensland), and historic budget allocations."
    ]}
    validation="Feasibility is high as we are already an approved provider for Queensland Government Executive Recruitment. The primary shift is in leveraging our local ownership as a competitive advantage in bid scoring."
    measurement="Pipeline Growth: Target a 50% increase in qualified tender invitations and a 30% increase in 'warm' manager engagement."
  />
);

const RaaSView = () => (
  <SectionBlock 
    title="RaaS: The Revenue Engine"
    icon={ClipboardCheck}
    why="Under the leadership of Michelle Bassett, our Recruitment as a Service (RaaS) division serves as a primary market differentiator. High-volume Scribing and Reporting services are often the catalyst for wider panel engagement. RaaS provides the essential 'foot in the door' to identify broader vacancies."
    how="Position RaaS as an essential Compliance Guardrail. We remove the administrative friction from departmental selection reports. Our RaaS specialists function as frontline intelligence hubs, funneling emerging requirements back to our core verticals."
    steps={[
      "WHEN: Immediate - Michelle Bassett to lead a full audit of active government panels for 'Minor Services' and 'Professional Support' expansion.",
      "HOW: Bundle Scribing with 'Selection Report Writing' as a high-efficiency, standardised product.",
      "TRAINING: Refine reporting protocols to ensure RaaS teams capture and relay 'informal hiring signals' to relevant Desk Leads.",
      "SYSTEMS: Deepen the integration between the RaaS delivery team and the Government Vertical desks."
    ]}
    validation="Feasibility is established by RaaS's proven track record as a high-performing division. Strengthening the leadership visibility around Michelle Bassett ensures strategic alignment with the wider growth mandate."
    measurement="Intelligence Yield: Target a minimum of 2 specialised desk leads for every 5 RaaS engagements."
  />
);

const GovernmentDeskView = () => (
  <SectionBlock 
    title="Government Desks: Vertical Mastery"
    icon={ShieldCheck}
    why="From Finance to Communications, our desks must be deeper, not broader. By productising our verticals, we move from being a 'CV provider' to a 'Practice Leader.' Clients engage Kingston specialists when the cost of a hiring error outweighs the recruitment fee."
    how="Each desk will maintain a 'Pre-Vetted Blitz Team' (5-10 contractors ready for immediate deployment). We pitch 'Instant Capacity' rather than 'Search Services.' When a manager loses staff, Kingston resolves the gap within 24 hours."
    steps={[
      "WHEN: Month 1-2 - Identify the top 5 recurring roles in each vertical (e.g., Accounting & Finance, Marketing & Comms).",
      "HOW: Conduct proactive 'Glow Interviews' to maintain a live bench of fully compliant candidates.",
      "MARKETING: Distribute monthly 'Anonymised Bench Snapshots' to key department heads.",
      "COLLABORATION: Utilise RaaS-sourced intelligence to time the delivery of these snapshots for maximum impact."
    ]}
    validation="Feasibility is proven by our existing billing performance in Brisbane and across Queensland. The shift requires moving from reactive recruitment to proactive 'Talent Inventory Management'."
    measurement="Time-to-Fill: Reduce average placement time from 14 days to 3 business days for core vertical roles."
  />
);

const SurveyView = () => (
  <div className="space-y-8 animate-in fade-in slide-in-from-right-4 duration-500">
    <header className="flex items-center gap-4 border-b border-slate-200 pb-6">
      <div className="p-3 bg-yellow-500 text-white rounded-xl shadow-lg">
        <PieChart size={28} />
      </div>
      <h2 className="text-3xl font-bold text-slate-900 tracking-tight">Lost-Bid Intelligence</h2>
    </header>
    
    <div className="bg-amber-50 border border-amber-200 p-8 rounded-3xl">
      <h3 className="text-xl font-bold text-amber-900 mb-4 flex items-center gap-2">
        <AlertCircle className="text-amber-600" /> Strategic Logic: The 'Brutal Honesty' Protocol
      </h3>
      <p className="text-amber-800 leading-relaxed text-sm">
        Public sector managers often withhold feedback to avoid social friction. A digital, anonymous 'Service Review' provides the psychological safety required for them to reveal the <strong>genuine</strong> reasons for a bid loss.
      </p>
    </div>

    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div className="space-y-4">
        <h4 className="font-bold text-slate-800 text-sm uppercase tracking-widest">Feedback Criteria:</h4>
        <ul className="space-y-2">
          {[
            "Was our proposal less accessible or clear than the successful bid?",
            "Did the successful agency identify a risk factor we overlooked?",
            "Did our Practice Area branding resonate as authentic to your needs?",
            "What single factor provided the greatest sense of 'security' with the winner?"
          ].map((q, i) => (
            <li key={i} className="flex items-center gap-3 bg-white p-3 rounded-lg border border-slate-200 text-xs text-slate-600">
              <span className="text-blue-600 font-bold">Q{i+1}.</span> {q}
            </li>
          ))}
        </ul>
      </div>

      <div className="space-y-6">
        <div className="p-6 bg-slate-100 rounded-xl">
          <h4 className="font-bold text-slate-800 mb-2 text-sm">Strategic Deployment</h4>
          <p className="text-xs text-slate-600">
            Automatically trigger this survey 48 hours after a loss notification. Findings are reviewed by the Bid Manager and Desk Leads to refine the value proposition for the next RFP.
          </p>
        </div>
        <div className="p-6 bg-blue-600 text-white rounded-xl shadow-lg">
          <h4 className="font-bold mb-2 uppercase text-[10px] tracking-widest text-blue-100">Performance Impact</h4>
          <p className="text-md font-bold italic">"Correction Factor"</p>
          <p className="text-xs text-blue-100 mt-2">Target: 15% increase in tender win-rate by systematically addressing identified gaps in subsequent proposals.</p>
        </div>
      </div>
    </div>
  </div>
);

export default App;
